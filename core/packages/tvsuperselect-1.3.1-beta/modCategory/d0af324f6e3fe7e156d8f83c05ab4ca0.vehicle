<?php return array (
  'unique_key' => 'category',
  'preserve_keys' => false,
  'update_object' => true,
  'related_objects' => 
  array (
    'Snippets' => 
    array (
      '9da63b61d0e12b2c39059c7e85182c02' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tvssResources","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/* @var modX $modx *\\/\\n\\/* @var pdoFetch $pdoFetch *\\/\\n$sp = &$scriptProperties;\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdotools_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $sp);\\n    $pdoFetch->addTime(\'pdoTools loaded\');\\n} else {\\n    return false;\\n}\\n\\n\\/\\/\\n$sp[\'context\'] = !empty($sp[\'context\']) ? $sp[\'context\'] : $modx->context->key;\\nif (!$tags = (((($sp[\'tag\'] ?: $sp[\'tags\']) ?: $_REQUEST[\'tag\']) ?: $_REQUEST[\'tags\']) ?: \'\')) {\\n    return false;\\n}\\nif (!$tvs = (($sp[\'tv\'] ?: $sp[\'tvs\']) ?: \'\')) {\\n    return false;\\n}\\nunset($sp[\'tag\'], $sp[\'tags\'], $sp[\'tv\'], $sp[\'tvs\']);\\n\\n\\/\\/ \\u041f\\u0440\\u0435\\u043e\\u0431\\u0440\\u0430\\u0437\\u0443\\u0435\\u043c \\u0441\\u043f\\u0438\\u0441\\u043e\\u043a \\u0442\\u0435\\u0433\\u043e\\u0432 \\u0432 \\u043c\\u0430\\u0441\\u0441\\u0438\\u0432\\nif (is_string($tags)) {\\n    $tags = explode(\'||\', $tags);\\n}\\nif (is_array($tags)) {\\n    $tags = array_map(\'trim\', $tags);\\n    $tags = array_map(\'urldecode\', $tags);\\n    $tags = array_diff($tags, array(\'\'));\\n} else {\\n    return false;\\n}\\nif (empty($tags)) {\\n    return false;\\n}\\n\\n\\/\\/ \\u041f\\u0440\\u0435\\u043e\\u0431\\u0440\\u0430\\u0437\\u0443\\u0435\\u043c \\u0441\\u043f\\u0438\\u0441\\u043e\\u043a ID \\u0422\\u0412\\u0448\\u0435\\u043a \\u0432 \\u043c\\u0430\\u0441\\u0441\\u0438\\u0432\\n$tvs = explode(\',\', $tvs);\\n\\n\\/\\/ \\u041a\\u0430\\u043a \\u0434\\u0435\\u043b\\u0430\\u0435\\u043c \\u0432\\u044b\\u0431\\u043e\\u0440\\u043a\\u0443, \\u0447\\u0435\\u0440\\u0435\\u0437 LIKE \\u0438\\u043b\\u0438 =\\n$like = isset($sp[\'like\']) ? $sp[\'like\'] : false;\\n\\n\\/\\/ \\u041f\\u043e\\u0434\\u0433\\u043e\\u0442\\u0430\\u0432\\u043b\\u0438\\u0432\\u0430\\u0435\\u043c \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b \\u0434\\u043b\\u044f \\u0432\\u044b\\u0431\\u043e\\u0440\\u043a\\u0438 \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u043e\\u0432 \\u0441 \\u043d\\u0443\\u0436\\u043d\\u044b\\u043c\\u0438 \\u0442\\u0435\\u0433\\u0430\\u043c\\u0438\\n$class = !empty($sp[\'class\']) ? $sp[\'class\'] : \'modResource\';\\n$loadModels = array(\'tvsuperselect\' => MODX_CORE_PATH . \'components\\/tvsuperselect\\/model\\/\');\\n$select = array($class => \'*\');\\n$leftJoin = array();\\n$where = array(array());\\n\\nforeach ($tvs as $tv) {\\n    $alias = \'tvss\' . $tv;\\n    $orConditions = array();\\n\\n    foreach ($tags as $i => $tag) {\\n        if ($like) {\\n            $orConditions[] = $alias . \'.value LIKE \\"%\' . addslashes($tag) . \'%\\"\';\\n        } else {\\n            $orConditions[] = $alias . \'.value = \\"\' . addslashes($tag) . \'\\"\';\\n        }\\n    }\\n\\n    if (!empty($orConditions)) {\\n        $leftJoin += array(\\n            $alias => array(\\n                \'class\' => \'tvssOption\',\\n                \'alias\' => $alias,\\n                \'on\' => $alias . \'.resource_id = \' . $class . \'.id AND (\' . implode(\' OR \', $orConditions) . \')\',\\n            ),\\n        );\\n        $where[0][] = array(\\n            \'OR:\' . $alias . \'.tv_id:=\' => $tv,\\n        );\\n    }\\n}\\n\\n\\/\\/ \\u041f\\u0440\\u0438\\u0432\\u0435\\u0434\\u0435\\u043d\\u0438\\u0435 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0430 loadModels \\u043a \\u043d\\u0443\\u0436\\u043d\\u043e\\u043c\\u0443 \\u043d\\u0430\\u043c \\u0432\\u0438\\u0434\\u0443 (JSON)\\nif (!empty($sp[\'loadModels\']) && !$modx->fromJSON($sp[\'loadModels\'])) {\\n    $tmp_array = array_map(\'trim\', explode(\',\', $sp[\'loadModels\']));\\n    foreach ($tmp_array as $v) {\\n        $tmp[$v] = MODX_CORE_PATH . \'components\\/\' . strtolower($v) . \'\\/model\\/\';\\n    }\\n    $sp[\'loadModels\'] = $modx->toJSON($tmp);\\n}\\n\\n\\/\\/ \\u041e\\u0431\\u0440\\u0430\\u0431\\u043e\\u0442\\u043a\\u0430 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u043e\\u0432 \\u0443\\u043a\\u0430\\u0437\\u0430\\u043d\\u043d\\u044b\\u0445 \\u044e\\u0437\\u0435\\u0440\\u043e\\u043c, \\u043f\\u0435\\u0440\\u0435\\u0441\\u0435\\u043a\\u0430\\u044e\\u0449\\u0438\\u0445\\u0441\\u044f \\u0441 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0430\\u043c\\u0438 \\u0441\\u043d\\u0438\\u043f\\u043f\\u0435\\u0442\\u0430\\nforeach (array(\'loadModels\', \'where\', \'select\', \'leftJoin\') as $v) {\\n    if (!empty($sp[$v])) {\\n        $tmp = !is_array($sp[$v]) ? $modx->fromJSON($sp[$v]) : $sp[$v];\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n        unset($tmp);\\n    }\\n    unset($sp[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ \\u0421\\u043b\\u0438\\u0432\\u0430\\u0435\\u043c \\u043f\\u043e\\u0434\\u0433\\u043e\\u0442\\u043e\\u0432\\u0430\\u043b\\u0435\\u043d\\u043d\\u044b\\u0435 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b \\u0441 \\u0443\\u043a\\u0430\\u0437\\u0430\\u043d\\u043d\\u044b\\u043c\\u0438 \\u044e\\u0437\\u0435\\u0440\\u043e\\u043c \\u0438 \\u0437\\u0430\\u043f\\u0443\\u0441\\u043a\\u0430\\u0435\\u043c\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge(array(\\n    \'class\' => $class,\\n    \'loadModels\' => $modx->toJSON($loadModels),\\n    \'select\' => $modx->toJSON($select),\\n    \'leftJoin\' => $modx->toJSON($leftJoin),\\n    \'where\' => $modx->toJSON($where),\\n    \'groupby\' => $class . \'.id\',\\n), $sp), false);\\n\\n$rows = $pdoFetch->run();\\n\\nreturn $rows;","locked":0,"properties":"a:4:{s:3:\\"tag\\";a:7:{s:4:\\"name\\";s:3:\\"tag\\";s:4:\\"desc\\";s:22:\\"tvsuperselect_prop_tag\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:4:\\"tags\\";a:7:{s:4:\\"name\\";s:4:\\"tags\\";s:4:\\"desc\\";s:23:\\"tvsuperselect_prop_tags\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:2:\\"tv\\";a:7:{s:4:\\"name\\";s:2:\\"tv\\";s:4:\\"desc\\";s:21:\\"tvsuperselect_prop_tv\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"tvs\\";a:7:{s:4:\\"name\\";s:3:\\"tvs\\";s:4:\\"desc\\";s:22:\\"tvsuperselect_prop_tvs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/tvsuperselect\\/elements\\/snippets\\/snippet.tvssResources.php","content":"\\/* @var modX $modx *\\/\\n\\/* @var pdoFetch $pdoFetch *\\/\\n$sp = &$scriptProperties;\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdotools_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $sp);\\n    $pdoFetch->addTime(\'pdoTools loaded\');\\n} else {\\n    return false;\\n}\\n\\n\\/\\/\\n$sp[\'context\'] = !empty($sp[\'context\']) ? $sp[\'context\'] : $modx->context->key;\\nif (!$tags = (((($sp[\'tag\'] ?: $sp[\'tags\']) ?: $_REQUEST[\'tag\']) ?: $_REQUEST[\'tags\']) ?: \'\')) {\\n    return false;\\n}\\nif (!$tvs = (($sp[\'tv\'] ?: $sp[\'tvs\']) ?: \'\')) {\\n    return false;\\n}\\nunset($sp[\'tag\'], $sp[\'tags\'], $sp[\'tv\'], $sp[\'tvs\']);\\n\\n\\/\\/ \\u041f\\u0440\\u0435\\u043e\\u0431\\u0440\\u0430\\u0437\\u0443\\u0435\\u043c \\u0441\\u043f\\u0438\\u0441\\u043e\\u043a \\u0442\\u0435\\u0433\\u043e\\u0432 \\u0432 \\u043c\\u0430\\u0441\\u0441\\u0438\\u0432\\nif (is_string($tags)) {\\n    $tags = explode(\'||\', $tags);\\n}\\nif (is_array($tags)) {\\n    $tags = array_map(\'trim\', $tags);\\n    $tags = array_map(\'urldecode\', $tags);\\n    $tags = array_diff($tags, array(\'\'));\\n} else {\\n    return false;\\n}\\nif (empty($tags)) {\\n    return false;\\n}\\n\\n\\/\\/ \\u041f\\u0440\\u0435\\u043e\\u0431\\u0440\\u0430\\u0437\\u0443\\u0435\\u043c \\u0441\\u043f\\u0438\\u0441\\u043e\\u043a ID \\u0422\\u0412\\u0448\\u0435\\u043a \\u0432 \\u043c\\u0430\\u0441\\u0441\\u0438\\u0432\\n$tvs = explode(\',\', $tvs);\\n\\n\\/\\/ \\u041a\\u0430\\u043a \\u0434\\u0435\\u043b\\u0430\\u0435\\u043c \\u0432\\u044b\\u0431\\u043e\\u0440\\u043a\\u0443, \\u0447\\u0435\\u0440\\u0435\\u0437 LIKE \\u0438\\u043b\\u0438 =\\n$like = isset($sp[\'like\']) ? $sp[\'like\'] : false;\\n\\n\\/\\/ \\u041f\\u043e\\u0434\\u0433\\u043e\\u0442\\u0430\\u0432\\u043b\\u0438\\u0432\\u0430\\u0435\\u043c \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b \\u0434\\u043b\\u044f \\u0432\\u044b\\u0431\\u043e\\u0440\\u043a\\u0438 \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u043e\\u0432 \\u0441 \\u043d\\u0443\\u0436\\u043d\\u044b\\u043c\\u0438 \\u0442\\u0435\\u0433\\u0430\\u043c\\u0438\\n$class = !empty($sp[\'class\']) ? $sp[\'class\'] : \'modResource\';\\n$loadModels = array(\'tvsuperselect\' => MODX_CORE_PATH . \'components\\/tvsuperselect\\/model\\/\');\\n$select = array($class => \'*\');\\n$leftJoin = array();\\n$where = array(array());\\n\\nforeach ($tvs as $tv) {\\n    $alias = \'tvss\' . $tv;\\n    $orConditions = array();\\n\\n    foreach ($tags as $i => $tag) {\\n        if ($like) {\\n            $orConditions[] = $alias . \'.value LIKE \\"%\' . addslashes($tag) . \'%\\"\';\\n        } else {\\n            $orConditions[] = $alias . \'.value = \\"\' . addslashes($tag) . \'\\"\';\\n        }\\n    }\\n\\n    if (!empty($orConditions)) {\\n        $leftJoin += array(\\n            $alias => array(\\n                \'class\' => \'tvssOption\',\\n                \'alias\' => $alias,\\n                \'on\' => $alias . \'.resource_id = \' . $class . \'.id AND (\' . implode(\' OR \', $orConditions) . \')\',\\n            ),\\n        );\\n        $where[0][] = array(\\n            \'OR:\' . $alias . \'.tv_id:=\' => $tv,\\n        );\\n    }\\n}\\n\\n\\/\\/ \\u041f\\u0440\\u0438\\u0432\\u0435\\u0434\\u0435\\u043d\\u0438\\u0435 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0430 loadModels \\u043a \\u043d\\u0443\\u0436\\u043d\\u043e\\u043c\\u0443 \\u043d\\u0430\\u043c \\u0432\\u0438\\u0434\\u0443 (JSON)\\nif (!empty($sp[\'loadModels\']) && !$modx->fromJSON($sp[\'loadModels\'])) {\\n    $tmp_array = array_map(\'trim\', explode(\',\', $sp[\'loadModels\']));\\n    foreach ($tmp_array as $v) {\\n        $tmp[$v] = MODX_CORE_PATH . \'components\\/\' . strtolower($v) . \'\\/model\\/\';\\n    }\\n    $sp[\'loadModels\'] = $modx->toJSON($tmp);\\n}\\n\\n\\/\\/ \\u041e\\u0431\\u0440\\u0430\\u0431\\u043e\\u0442\\u043a\\u0430 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u043e\\u0432 \\u0443\\u043a\\u0430\\u0437\\u0430\\u043d\\u043d\\u044b\\u0445 \\u044e\\u0437\\u0435\\u0440\\u043e\\u043c, \\u043f\\u0435\\u0440\\u0435\\u0441\\u0435\\u043a\\u0430\\u044e\\u0449\\u0438\\u0445\\u0441\\u044f \\u0441 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0430\\u043c\\u0438 \\u0441\\u043d\\u0438\\u043f\\u043f\\u0435\\u0442\\u0430\\nforeach (array(\'loadModels\', \'where\', \'select\', \'leftJoin\') as $v) {\\n    if (!empty($sp[$v])) {\\n        $tmp = !is_array($sp[$v]) ? $modx->fromJSON($sp[$v]) : $sp[$v];\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n        unset($tmp);\\n    }\\n    unset($sp[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ \\u0421\\u043b\\u0438\\u0432\\u0430\\u0435\\u043c \\u043f\\u043e\\u0434\\u0433\\u043e\\u0442\\u043e\\u0432\\u0430\\u043b\\u0435\\u043d\\u043d\\u044b\\u0435 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b \\u0441 \\u0443\\u043a\\u0430\\u0437\\u0430\\u043d\\u043d\\u044b\\u043c\\u0438 \\u044e\\u0437\\u0435\\u0440\\u043e\\u043c \\u0438 \\u0437\\u0430\\u043f\\u0443\\u0441\\u043a\\u0430\\u0435\\u043c\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge(array(\\n    \'class\' => $class,\\n    \'loadModels\' => $modx->toJSON($loadModels),\\n    \'select\' => $modx->toJSON($select),\\n    \'leftJoin\' => $modx->toJSON($leftJoin),\\n    \'where\' => $modx->toJSON($where),\\n    \'groupby\' => $class . \'.id\',\\n), $sp), false);\\n\\n$rows = $pdoFetch->run();\\n\\nreturn $rows;"}',
        'guid' => 'c1357b92d0b96d19fe8cfc08e2304c3c',
        'native_key' => 0,
        'signature' => '25cea38311591393576736c75a627966',
      ),
      '2d1624d4994b0a63ca2192183f330cb5' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tvssTickets","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/* @var modX $modx *\\/\\n$sp = &$scriptProperties;\\n\\n\\/\\/\\n$sp[\'context\'] = !empty($sp[\'context\']) ? $sp[\'context\'] : $modx->context->key;\\nif (!$tags = (((($sp[\'tag\'] ?: $sp[\'tags\']) ?: $_REQUEST[\'tag\']) ?: $_REQUEST[\'tags\']) ?: \'\')) {\\n    return false;\\n}\\nif (!$tvs = (($sp[\'tv\'] ?: $sp[\'tvs\']) ?: \'\')) {\\n    return false;\\n}\\n$snippet = $sp[\'snippet\'] ?: \'getTickets\';\\nunset($sp[\'tag\'], $sp[\'tags\'], $sp[\'tv\'], $sp[\'tvs\'], $sp[\'snippet\']);\\n\\n\\/\\/ \\u041f\\u0440\\u0435\\u043e\\u0431\\u0440\\u0430\\u0437\\u0443\\u0435\\u043c \\u0441\\u043f\\u0438\\u0441\\u043e\\u043a \\u0442\\u0435\\u0433\\u043e\\u0432 \\u0432 \\u043c\\u0430\\u0441\\u0441\\u0438\\u0432\\nif (is_string($tags)) {\\n    $tags = explode(\'||\', $tags);\\n}\\nif (is_array($tags)) {\\n    $tags = array_map(\'trim\', $tags);\\n    $tags = array_map(\'urldecode\', $tags);\\n    $tags = array_diff($tags, array(\'\'));\\n} else {\\n    return false;\\n}\\nif (empty($tags)) {\\n    return false;\\n}\\n\\n\\/\\/ \\u041f\\u0440\\u0435\\u043e\\u0431\\u0440\\u0430\\u0437\\u0443\\u0435\\u043c \\u0441\\u043f\\u0438\\u0441\\u043e\\u043a ID \\u0422\\u0412\\u0448\\u0435\\u043a \\u0432 \\u043c\\u0430\\u0441\\u0441\\u0438\\u0432\\n$tvs = explode(\',\', $tvs);\\n\\n\\/\\/ \\u041a\\u0430\\u043a \\u0434\\u0435\\u043b\\u0430\\u0435\\u043c \\u0432\\u044b\\u0431\\u043e\\u0440\\u043a\\u0443, \\u0447\\u0435\\u0440\\u0435\\u0437 LIKE \\u0438\\u043b\\u0438 =\\n$like = isset($sp[\'like\']) ? $sp[\'like\'] : false;\\n\\n\\/\\/ \\u041f\\u043e\\u0434\\u0433\\u043e\\u0442\\u0430\\u0432\\u043b\\u0438\\u0432\\u0430\\u0435\\u043c \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b \\u0434\\u043b\\u044f \\u0432\\u044b\\u0431\\u043e\\u0440\\u043a\\u0438 \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u043e\\u0432 \\u0441 \\u043d\\u0443\\u0436\\u043d\\u044b\\u043c\\u0438 \\u0442\\u0435\\u0433\\u0430\\u043c\\u0438\\n$class = !empty($sp[\'class\']) ? $sp[\'class\'] : \'Ticket\';\\n$loadModels = array(\'tvsuperselect\' => MODX_CORE_PATH . \'components\\/tvsuperselect\\/model\\/\');\\n$select = array();\\n$leftJoin = array();\\n$where = array(array());\\n\\nforeach ($tvs as $tv) {\\n    $alias = \'tvss\' . $tv;\\n    $orConditions = array();\\n\\n    foreach ($tags as $i => $tag) {\\n        if ($like) {\\n            $orConditions[] = $alias . \'.value LIKE \\"%\' . addslashes($tag) . \'%\\"\';\\n        } else {\\n            $orConditions[] = $alias . \'.value = \\"\' . addslashes($tag) . \'\\"\';\\n        }\\n    }\\n\\n    if (!empty($orConditions)) {\\n        $leftJoin += array(\\n            $alias => array(\\n                \'class\' => \'tvssOption\',\\n                \'alias\' => $alias,\\n                \'on\' => $alias . \'.resource_id = \' . $class . \'.id AND (\' . implode(\' OR \', $orConditions) . \')\',\\n            ),\\n        );\\n        $where[0][] = array(\\n            \'OR:\' . $alias . \'.tv_id:=\' => $tv,\\n        );\\n    }\\n}\\n\\n\\/\\/ \\u041f\\u0440\\u0438\\u0432\\u0435\\u0434\\u0435\\u043d\\u0438\\u0435 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0430 loadModels \\u043a \\u043d\\u0443\\u0436\\u043d\\u043e\\u043c\\u0443 \\u043d\\u0430\\u043c \\u0432\\u0438\\u0434\\u0443 (JSON)\\nif (!empty($sp[\'loadModels\']) && !$modx->fromJSON($sp[\'loadModels\'])) {\\n    $tmp_array = array_map(\'trim\', explode(\',\', $sp[\'loadModels\']));\\n    foreach ($tmp_array as $v) {\\n        $tmp[$v] = MODX_CORE_PATH . \'components\\/\' . strtolower($v) . \'\\/model\\/\';\\n    }\\n    $sp[\'loadModels\'] = $modx->toJSON($tmp);\\n}\\n\\n\\/\\/ \\u041e\\u0431\\u0440\\u0430\\u0431\\u043e\\u0442\\u043a\\u0430 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u043e\\u0432 \\u0443\\u043a\\u0430\\u0437\\u0430\\u043d\\u043d\\u044b\\u0445 \\u044e\\u0437\\u0435\\u0440\\u043e\\u043c, \\u043f\\u0435\\u0440\\u0435\\u0441\\u0435\\u043a\\u0430\\u044e\\u0449\\u0438\\u0445\\u0441\\u044f \\u0441 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0430\\u043c\\u0438 \\u0441\\u043d\\u0438\\u043f\\u043f\\u0435\\u0442\\u0430\\nforeach (array(\'loadModels\', \'where\', \'select\', \'leftJoin\') as $v) {\\n    if (!empty($sp[$v])) {\\n        $tmp = !is_array($sp[$v]) ? $modx->fromJSON($sp[$v]) : $sp[$v];\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n        unset($tmp);\\n    }\\n    unset($sp[$v]);\\n}\\n\\n\\/\\/ \\u0421\\u043b\\u0438\\u0432\\u0430\\u0435\\u043c \\u043f\\u043e\\u0434\\u0433\\u043e\\u0442\\u043e\\u0432\\u0430\\u043b\\u0435\\u043d\\u043d\\u044b\\u0435 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b \\u0441 \\u0443\\u043a\\u0430\\u0437\\u0430\\u043d\\u043d\\u044b\\u043c\\u0438 \\u044e\\u0437\\u0435\\u0440\\u043e\\u043c \\u0438 \\u0437\\u0430\\u043f\\u0443\\u0441\\u043a\\u0430\\u0435\\u043c\\n$output = $modx->runSnippet($snippet, array_merge(array(\\n    \'class\' => $class,\\n    \'loadModels\' => $modx->toJSON($loadModels),\\n    \'select\' => $modx->toJSON($select),\\n    \'leftJoin\' => $modx->toJSON($leftJoin),\\n    \'where\' => $modx->toJSON($where),\\n    \'groupby\' => $class . \'.id\',\\n), $sp));\\n\\nreturn $output;","locked":0,"properties":"a:5:{s:3:\\"tag\\";a:7:{s:4:\\"name\\";s:3:\\"tag\\";s:4:\\"desc\\";s:22:\\"tvsuperselect_prop_tag\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:4:\\"tags\\";a:7:{s:4:\\"name\\";s:4:\\"tags\\";s:4:\\"desc\\";s:23:\\"tvsuperselect_prop_tags\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:2:\\"tv\\";a:7:{s:4:\\"name\\";s:2:\\"tv\\";s:4:\\"desc\\";s:21:\\"tvsuperselect_prop_tv\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"tvs\\";a:7:{s:4:\\"name\\";s:3:\\"tvs\\";s:4:\\"desc\\";s:22:\\"tvsuperselect_prop_tvs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"snippet\\";a:7:{s:4:\\"name\\";s:7:\\"snippet\\";s:4:\\"desc\\";s:26:\\"tvsuperselect_prop_snippet\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:10:\\"getTickets\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/tvsuperselect\\/elements\\/snippets\\/snippet.tvssTickets.php","content":"\\/* @var modX $modx *\\/\\n$sp = &$scriptProperties;\\n\\n\\/\\/\\n$sp[\'context\'] = !empty($sp[\'context\']) ? $sp[\'context\'] : $modx->context->key;\\nif (!$tags = (((($sp[\'tag\'] ?: $sp[\'tags\']) ?: $_REQUEST[\'tag\']) ?: $_REQUEST[\'tags\']) ?: \'\')) {\\n    return false;\\n}\\nif (!$tvs = (($sp[\'tv\'] ?: $sp[\'tvs\']) ?: \'\')) {\\n    return false;\\n}\\n$snippet = $sp[\'snippet\'] ?: \'getTickets\';\\nunset($sp[\'tag\'], $sp[\'tags\'], $sp[\'tv\'], $sp[\'tvs\'], $sp[\'snippet\']);\\n\\n\\/\\/ \\u041f\\u0440\\u0435\\u043e\\u0431\\u0440\\u0430\\u0437\\u0443\\u0435\\u043c \\u0441\\u043f\\u0438\\u0441\\u043e\\u043a \\u0442\\u0435\\u0433\\u043e\\u0432 \\u0432 \\u043c\\u0430\\u0441\\u0441\\u0438\\u0432\\nif (is_string($tags)) {\\n    $tags = explode(\'||\', $tags);\\n}\\nif (is_array($tags)) {\\n    $tags = array_map(\'trim\', $tags);\\n    $tags = array_map(\'urldecode\', $tags);\\n    $tags = array_diff($tags, array(\'\'));\\n} else {\\n    return false;\\n}\\nif (empty($tags)) {\\n    return false;\\n}\\n\\n\\/\\/ \\u041f\\u0440\\u0435\\u043e\\u0431\\u0440\\u0430\\u0437\\u0443\\u0435\\u043c \\u0441\\u043f\\u0438\\u0441\\u043e\\u043a ID \\u0422\\u0412\\u0448\\u0435\\u043a \\u0432 \\u043c\\u0430\\u0441\\u0441\\u0438\\u0432\\n$tvs = explode(\',\', $tvs);\\n\\n\\/\\/ \\u041a\\u0430\\u043a \\u0434\\u0435\\u043b\\u0430\\u0435\\u043c \\u0432\\u044b\\u0431\\u043e\\u0440\\u043a\\u0443, \\u0447\\u0435\\u0440\\u0435\\u0437 LIKE \\u0438\\u043b\\u0438 =\\n$like = isset($sp[\'like\']) ? $sp[\'like\'] : false;\\n\\n\\/\\/ \\u041f\\u043e\\u0434\\u0433\\u043e\\u0442\\u0430\\u0432\\u043b\\u0438\\u0432\\u0430\\u0435\\u043c \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b \\u0434\\u043b\\u044f \\u0432\\u044b\\u0431\\u043e\\u0440\\u043a\\u0438 \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u043e\\u0432 \\u0441 \\u043d\\u0443\\u0436\\u043d\\u044b\\u043c\\u0438 \\u0442\\u0435\\u0433\\u0430\\u043c\\u0438\\n$class = !empty($sp[\'class\']) ? $sp[\'class\'] : \'Ticket\';\\n$loadModels = array(\'tvsuperselect\' => MODX_CORE_PATH . \'components\\/tvsuperselect\\/model\\/\');\\n$select = array();\\n$leftJoin = array();\\n$where = array(array());\\n\\nforeach ($tvs as $tv) {\\n    $alias = \'tvss\' . $tv;\\n    $orConditions = array();\\n\\n    foreach ($tags as $i => $tag) {\\n        if ($like) {\\n            $orConditions[] = $alias . \'.value LIKE \\"%\' . addslashes($tag) . \'%\\"\';\\n        } else {\\n            $orConditions[] = $alias . \'.value = \\"\' . addslashes($tag) . \'\\"\';\\n        }\\n    }\\n\\n    if (!empty($orConditions)) {\\n        $leftJoin += array(\\n            $alias => array(\\n                \'class\' => \'tvssOption\',\\n                \'alias\' => $alias,\\n                \'on\' => $alias . \'.resource_id = \' . $class . \'.id AND (\' . implode(\' OR \', $orConditions) . \')\',\\n            ),\\n        );\\n        $where[0][] = array(\\n            \'OR:\' . $alias . \'.tv_id:=\' => $tv,\\n        );\\n    }\\n}\\n\\n\\/\\/ \\u041f\\u0440\\u0438\\u0432\\u0435\\u0434\\u0435\\u043d\\u0438\\u0435 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0430 loadModels \\u043a \\u043d\\u0443\\u0436\\u043d\\u043e\\u043c\\u0443 \\u043d\\u0430\\u043c \\u0432\\u0438\\u0434\\u0443 (JSON)\\nif (!empty($sp[\'loadModels\']) && !$modx->fromJSON($sp[\'loadModels\'])) {\\n    $tmp_array = array_map(\'trim\', explode(\',\', $sp[\'loadModels\']));\\n    foreach ($tmp_array as $v) {\\n        $tmp[$v] = MODX_CORE_PATH . \'components\\/\' . strtolower($v) . \'\\/model\\/\';\\n    }\\n    $sp[\'loadModels\'] = $modx->toJSON($tmp);\\n}\\n\\n\\/\\/ \\u041e\\u0431\\u0440\\u0430\\u0431\\u043e\\u0442\\u043a\\u0430 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u043e\\u0432 \\u0443\\u043a\\u0430\\u0437\\u0430\\u043d\\u043d\\u044b\\u0445 \\u044e\\u0437\\u0435\\u0440\\u043e\\u043c, \\u043f\\u0435\\u0440\\u0435\\u0441\\u0435\\u043a\\u0430\\u044e\\u0449\\u0438\\u0445\\u0441\\u044f \\u0441 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u0430\\u043c\\u0438 \\u0441\\u043d\\u0438\\u043f\\u043f\\u0435\\u0442\\u0430\\nforeach (array(\'loadModels\', \'where\', \'select\', \'leftJoin\') as $v) {\\n    if (!empty($sp[$v])) {\\n        $tmp = !is_array($sp[$v]) ? $modx->fromJSON($sp[$v]) : $sp[$v];\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n        unset($tmp);\\n    }\\n    unset($sp[$v]);\\n}\\n\\n\\/\\/ \\u0421\\u043b\\u0438\\u0432\\u0430\\u0435\\u043c \\u043f\\u043e\\u0434\\u0433\\u043e\\u0442\\u043e\\u0432\\u0430\\u043b\\u0435\\u043d\\u043d\\u044b\\u0435 \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b \\u0441 \\u0443\\u043a\\u0430\\u0437\\u0430\\u043d\\u043d\\u044b\\u043c\\u0438 \\u044e\\u0437\\u0435\\u0440\\u043e\\u043c \\u0438 \\u0437\\u0430\\u043f\\u0443\\u0441\\u043a\\u0430\\u0435\\u043c\\n$output = $modx->runSnippet($snippet, array_merge(array(\\n    \'class\' => $class,\\n    \'loadModels\' => $modx->toJSON($loadModels),\\n    \'select\' => $modx->toJSON($select),\\n    \'leftJoin\' => $modx->toJSON($leftJoin),\\n    \'where\' => $modx->toJSON($where),\\n    \'groupby\' => $class . \'.id\',\\n), $sp));\\n\\nreturn $output;"}',
        'guid' => '07bb819a0c7690ac27bc4c9412a15a07',
        'native_key' => 0,
        'signature' => '2a62a22bbf901e27c204ebeaa40d1c05',
      ),
      'a074e579e1476e31593644b0e746a0c5' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tvssTags","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/* @var modX $modx *\\/\\n\\/* @var pdoFetch $pdoFetch *\\/\\n\\n$sp = &$scriptProperties;\\n\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdotools_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $sp);\\n    $pdoFetch->addTime(\'pdoTools loaded\');\\n} else {\\n    return false;\\n}\\nif (!$modx->addPackage(\'tvsuperselect\', MODX_CORE_PATH . \'components\\/tvsuperselect\\/model\\/\')) {\\n    return false;\\n}\\n\\n\\/\\/ \\u041f\\u043e\\u043b\\u0443\\u0447\\u0430\\u0435\\u043c \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b\\n$id = $sp[\'id\'] ?: 0;\\n$tv = $sp[\'tv\'] ?: 0;\\n$pageId = $sp[\'pageId\'] ?: 0;\\n$tpl = $sp[\'tpl\'] ?: \'@INLINE <a href=\\"[[+link]]\\">[[+tag]]<\\/a>\';\\n$tplWrapper = $sp[\'tplWrapper\'] ?: \'@INLINE [[+output]]\';\\n$outputSeparator = isset($sp[\'outputSeparator\']) ? $sp[\'outputSeparator\'] : \', \';\\n$toPlaceholder = $sp[\'toPlaceholder\'] ?: false;\\n$scheme = $sp[\'scheme\'] ?: \'-1\';\\nif (!$id || !$tv || !$tpl) {\\n    return false;\\n}\\n\\n\\/\\/ \\u0412\\u044b\\u0431\\u043e\\u0440\\u043a\\u0430 \\u0442\\u0435\\u0433\\u043e\\u0432\\n$q = $modx->newQuery(\'tvssOption\', array(\\n    \'resource_id\' => $id,\\n    \'tv_id\' => $tv,\\n))->select(\'value as tag\');\\n\\/\\/ $q->prepare(); print_r($q->toSQL());\\n\\n$output = \'\';\\n$items = array();\\nif ($q->prepare()->execute()) {\\n    if ($rows = $q->stmt->fetchAll(PDO::FETCH_ASSOC)) {\\n        foreach ($rows as $row) {\\n            $row[\'tagLink\'] = urlencode($row[\'tag\']);\\n            $row[\'link\'] = $pageId ? $modx->makeUrl($pageId, \'\', array(\'tag\' => $row[\'tagLink\']), $scheme) : \'\';\\n\\n            $items[] = $pdoFetch->getChunk($tpl, $row);\\n        }\\n    }\\n}\\n\\nif (!empty($items)) {\\n    $output = $pdoFetch->getChunk($tplWrapper, array(\\n        \'output\' => implode($outputSeparator, $items),\\n    ));\\n}\\n\\nif (!empty($toPlaceholder)) {\\n    $modx->setPlaceholder($toPlaceholder, $output);\\n} else {\\n    return $output;\\n}","locked":0,"properties":"a:8:{s:2:\\"id\\";a:7:{s:4:\\"name\\";s:2:\\"id\\";s:4:\\"desc\\";s:21:\\"tvsuperselect_prop_id\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:2:\\"tv\\";a:7:{s:4:\\"name\\";s:2:\\"tv\\";s:4:\\"desc\\";s:21:\\"tvsuperselect_prop_tv\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"pageId\\";a:7:{s:4:\\"name\\";s:6:\\"pageId\\";s:4:\\"desc\\";s:25:\\"tvsuperselect_prop_pageId\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:22:\\"tvsuperselect_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:40:\\"@INLINE <a href=\\"[[+link]]\\">[[+tag]]<\\/a>\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"tplWrapper\\";a:7:{s:4:\\"name\\";s:10:\\"tplWrapper\\";s:4:\\"desc\\";s:29:\\"tvsuperselect_prop_tplWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:19:\\"@INLINE [[+output]]\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"outputSeparator\\";a:7:{s:4:\\"name\\";s:15:\\"outputSeparator\\";s:4:\\"desc\\";s:34:\\"tvsuperselect_prop_outputSeparator\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:2:\\", \\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:32:\\"tvsuperselect_prop_toPlaceholder\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"scheme\\";a:7:{s:4:\\"name\\";s:6:\\"scheme\\";s:4:\\"desc\\";s:25:\\"tvsuperselect_prop_scheme\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:2:\\"-1\\";s:7:\\"lexicon\\";s:24:\\"tvsuperselect:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/tvsuperselect\\/elements\\/snippets\\/snippet.tvssTags.php","content":"\\/* @var modX $modx *\\/\\n\\/* @var pdoFetch $pdoFetch *\\/\\n\\n$sp = &$scriptProperties;\\n\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdotools_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $sp);\\n    $pdoFetch->addTime(\'pdoTools loaded\');\\n} else {\\n    return false;\\n}\\nif (!$modx->addPackage(\'tvsuperselect\', MODX_CORE_PATH . \'components\\/tvsuperselect\\/model\\/\')) {\\n    return false;\\n}\\n\\n\\/\\/ \\u041f\\u043e\\u043b\\u0443\\u0447\\u0430\\u0435\\u043c \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b\\n$id = $sp[\'id\'] ?: 0;\\n$tv = $sp[\'tv\'] ?: 0;\\n$pageId = $sp[\'pageId\'] ?: 0;\\n$tpl = $sp[\'tpl\'] ?: \'@INLINE <a href=\\"[[+link]]\\">[[+tag]]<\\/a>\';\\n$tplWrapper = $sp[\'tplWrapper\'] ?: \'@INLINE [[+output]]\';\\n$outputSeparator = isset($sp[\'outputSeparator\']) ? $sp[\'outputSeparator\'] : \', \';\\n$toPlaceholder = $sp[\'toPlaceholder\'] ?: false;\\n$scheme = $sp[\'scheme\'] ?: \'-1\';\\nif (!$id || !$tv || !$tpl) {\\n    return false;\\n}\\n\\n\\/\\/ \\u0412\\u044b\\u0431\\u043e\\u0440\\u043a\\u0430 \\u0442\\u0435\\u0433\\u043e\\u0432\\n$q = $modx->newQuery(\'tvssOption\', array(\\n    \'resource_id\' => $id,\\n    \'tv_id\' => $tv,\\n))->select(\'value as tag\');\\n\\/\\/ $q->prepare(); print_r($q->toSQL());\\n\\n$output = \'\';\\n$items = array();\\nif ($q->prepare()->execute()) {\\n    if ($rows = $q->stmt->fetchAll(PDO::FETCH_ASSOC)) {\\n        foreach ($rows as $row) {\\n            $row[\'tagLink\'] = urlencode($row[\'tag\']);\\n            $row[\'link\'] = $pageId ? $modx->makeUrl($pageId, \'\', array(\'tag\' => $row[\'tagLink\']), $scheme) : \'\';\\n\\n            $items[] = $pdoFetch->getChunk($tpl, $row);\\n        }\\n    }\\n}\\n\\nif (!empty($items)) {\\n    $output = $pdoFetch->getChunk($tplWrapper, array(\\n        \'output\' => implode($outputSeparator, $items),\\n    ));\\n}\\n\\nif (!empty($toPlaceholder)) {\\n    $modx->setPlaceholder($toPlaceholder, $output);\\n} else {\\n    return $output;\\n}"}',
        'guid' => '000c497187339dc2937a5a109213f3c9',
        'native_key' => 0,
        'signature' => '229c737a14e0d355175b5900f06b6533',
      ),
      '285e532a09dc7c6d785931f5cfaa0066' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"tvssCloud","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/\\/ @formatter:off\\n\\n\\/* @var modX $modx *\\/\\n\\/* @var pdoFetch $pdoFetch *\\/\\n\\n$sp = &$scriptProperties;\\n\\nif (!$modx->loadClass(\'pdofetch\', MODX_CORE_PATH . \'components\\/pdotools\\/model\\/pdotools\\/\', false, true)) {return false;}\\n$pdoFetch = new pdoFetch($modx, $sp);\\n\\n$config = array(\\n    \'parents\' => null,  \\/\\/ current resource default\\n    \'depth\' => 10,\\n    \'requestVar\' => \'tag\',\\n    \'target\' => null,\\n    \'tv\' => null,\\n    \'sortby\' => \'count\', \\/\\/ count || tag\\n    \'sortorder\' => \'DESC\', \\/\\/ DESC || ASC\\n    \'limit\' => 0,\\n    \'showAll\' => 1,\\n    \'tpl\' => \'@INLINE <li><a href=\\"{$uri}?{$requestVar}={$tag|urlencode}\\">{$tag} [{$count}]<\\/a><\\/li>\', \\/\\/ \\u0441\\u043f\\u0435\\u0446\\u0438\\u0430\\u043b\\u044c\\u043d\\u043e \\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b \\u0444\\u043e\\u0440\\u043c\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435 \\u0443\\u0440\\u043b \\u0437\\u0434\\u0435\\u0441\\u044c, \\u0432\\u0434\\u0440\\u0443\\u0433 \\u043a\\u0442\\u043e \\u0437\\u0430\\u0445\\u043e\\u0447\\u0435\\u0442 \\u0427\\u041f\\u0423 \\u0441\\u0434\\u0435\\u043b\\u0430\\u0442\\u044c\\n    \'tplActive\' => \'@INLINE <li>{$tag} [{$count}]<\\/li>\',\\n    \'tplAll\' => \'@INLINE <li><a href=\\"{$uri}\\">{$_modx->lexicon(\\"all\\")}<\\/a><\\/li>\',\\n    \'tplAllActive\' => \'@INLINE <li>{$_modx->lexicon(\\"all\\")}<\\/li>\',\\n    \'tplWrapper\' => \'@INLINE <ul>{$output}<\\/ul>\',\\n);\\n$config = array_merge($config, $sp);\\n\\n$parents = empty($config[\'parents\']) ? array($modx->resource->id) : explode(\',\', $config[\'parents\']);\\nif ($config[\'depth\'] != 1) {\\n    $childs = array();\\n    foreach($parents as $parent) {\\n        $childs = array_merge($childs, $modx->getChildIds($parent, $config[\'depth\'], array(\'context\' => $modx->context->key)));\\n    }\\n    $parents = array_merge($parents, $childs);\\n}\\n$target = empty($config[\'target\']) ? $modx->resource->id : $config[\'target\'];\\n$uri = $modx->makeUrl($target, \'\', \'\', $modx->getOption(\'link_tag_scheme\'));\\n\\n$requestTag = !empty($_REQUEST[$config[\'requestVar\']]) ? urldecode($_REQUEST[$config[\'requestVar\']]) : null;\\n\\n$tvss = $modx->getService(\'tvsuperselect\', \'tvsuperselect\', $modx->getOption(\'core_path\').\'components\\/tvsuperselect\\/model\\/tvsuperselect\\/\');\\nif ($pdo = $modx->getService(\'pdoFetch\')) { $parser = &$pdo; } else { $parser = &$modx; }\\n\\n$output = array();\\n\\n$c = $modx->newQuery(\'tvssOption\');\\n$c->innerJoin(\'modResource\', \'mr\', (\'mr.id = tvssOption.resource_id\'));\\n$where = array(\\n    \'mr.published\' => 1,\\n    \'mr.deleted\' => 0,\\n    \'mr.parent:IN\' => $parents,\\n);\\nif (!empty($config[\'tv\'])) {\\n    $where[\'tv_id\'] = $config[\'tv\'];\\n}\\n$c->where($where);\\n$c->select(\'COUNT(*) AS `count`, `tvssOption`.`value` AS `tag`\');\\n$c->groupby(\'tvssOption.value\');\\n$c->sortby($config[\'sortby\'], $config[\'sortorder\']);\\n$c->limit($config[\'limit\']);\\nif ($c->prepare() and $c->stmt->execute()) {\\n    $tags = $c->stmt->fetchAll(PDO::FETCH_ASSOC);\\n    if (!empty($tags)) {\\n        foreach ($tags as $tag) {\\n            $tag[\'uri\'] = $uri;\\n            $tag[\'requestVar\'] = $config[\'requestVar\'];\\n            $tpl = $tag[\'tag\'] == $requestTag ? $config[\'tplActive\'] : $config[\'tpl\'];\\n            $output[] = $parser->getChunk($tpl, $tag);\\n        }\\n        $output = implode(\'\', $output);\\n        if (!empty($config[\'tplWrapper\'])) {\\n            $output = $parser->getChunk($config[\'tplWrapper\'], array(\'output\' => $output));\\n        }\\n    }\\n}\\n\\nreturn $output;","locked":0,"properties":"a:0:{}","moduleguid":"","static":0,"static_file":"core\\/components\\/tvsuperselect\\/elements\\/snippets\\/snippet.tvssCloud.php","content":"\\/\\/ @formatter:off\\n\\n\\/* @var modX $modx *\\/\\n\\/* @var pdoFetch $pdoFetch *\\/\\n\\n$sp = &$scriptProperties;\\n\\nif (!$modx->loadClass(\'pdofetch\', MODX_CORE_PATH . \'components\\/pdotools\\/model\\/pdotools\\/\', false, true)) {return false;}\\n$pdoFetch = new pdoFetch($modx, $sp);\\n\\n$config = array(\\n    \'parents\' => null,  \\/\\/ current resource default\\n    \'depth\' => 10,\\n    \'requestVar\' => \'tag\',\\n    \'target\' => null,\\n    \'tv\' => null,\\n    \'sortby\' => \'count\', \\/\\/ count || tag\\n    \'sortorder\' => \'DESC\', \\/\\/ DESC || ASC\\n    \'limit\' => 0,\\n    \'showAll\' => 1,\\n    \'tpl\' => \'@INLINE <li><a href=\\"{$uri}?{$requestVar}={$tag|urlencode}\\">{$tag} [{$count}]<\\/a><\\/li>\', \\/\\/ \\u0441\\u043f\\u0435\\u0446\\u0438\\u0430\\u043b\\u044c\\u043d\\u043e \\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b \\u0444\\u043e\\u0440\\u043c\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435 \\u0443\\u0440\\u043b \\u0437\\u0434\\u0435\\u0441\\u044c, \\u0432\\u0434\\u0440\\u0443\\u0433 \\u043a\\u0442\\u043e \\u0437\\u0430\\u0445\\u043e\\u0447\\u0435\\u0442 \\u0427\\u041f\\u0423 \\u0441\\u0434\\u0435\\u043b\\u0430\\u0442\\u044c\\n    \'tplActive\' => \'@INLINE <li>{$tag} [{$count}]<\\/li>\',\\n    \'tplAll\' => \'@INLINE <li><a href=\\"{$uri}\\">{$_modx->lexicon(\\"all\\")}<\\/a><\\/li>\',\\n    \'tplAllActive\' => \'@INLINE <li>{$_modx->lexicon(\\"all\\")}<\\/li>\',\\n    \'tplWrapper\' => \'@INLINE <ul>{$output}<\\/ul>\',\\n);\\n$config = array_merge($config, $sp);\\n\\n$parents = empty($config[\'parents\']) ? array($modx->resource->id) : explode(\',\', $config[\'parents\']);\\nif ($config[\'depth\'] != 1) {\\n    $childs = array();\\n    foreach($parents as $parent) {\\n        $childs = array_merge($childs, $modx->getChildIds($parent, $config[\'depth\'], array(\'context\' => $modx->context->key)));\\n    }\\n    $parents = array_merge($parents, $childs);\\n}\\n$target = empty($config[\'target\']) ? $modx->resource->id : $config[\'target\'];\\n$uri = $modx->makeUrl($target, \'\', \'\', $modx->getOption(\'link_tag_scheme\'));\\n\\n$requestTag = !empty($_REQUEST[$config[\'requestVar\']]) ? urldecode($_REQUEST[$config[\'requestVar\']]) : null;\\n\\n$tvss = $modx->getService(\'tvsuperselect\', \'tvsuperselect\', $modx->getOption(\'core_path\').\'components\\/tvsuperselect\\/model\\/tvsuperselect\\/\');\\nif ($pdo = $modx->getService(\'pdoFetch\')) { $parser = &$pdo; } else { $parser = &$modx; }\\n\\n$output = array();\\n\\n$c = $modx->newQuery(\'tvssOption\');\\n$c->innerJoin(\'modResource\', \'mr\', (\'mr.id = tvssOption.resource_id\'));\\n$where = array(\\n    \'mr.published\' => 1,\\n    \'mr.deleted\' => 0,\\n    \'mr.parent:IN\' => $parents,\\n);\\nif (!empty($config[\'tv\'])) {\\n    $where[\'tv_id\'] = $config[\'tv\'];\\n}\\n$c->where($where);\\n$c->select(\'COUNT(*) AS `count`, `tvssOption`.`value` AS `tag`\');\\n$c->groupby(\'tvssOption.value\');\\n$c->sortby($config[\'sortby\'], $config[\'sortorder\']);\\n$c->limit($config[\'limit\']);\\nif ($c->prepare() and $c->stmt->execute()) {\\n    $tags = $c->stmt->fetchAll(PDO::FETCH_ASSOC);\\n    if (!empty($tags)) {\\n        foreach ($tags as $tag) {\\n            $tag[\'uri\'] = $uri;\\n            $tag[\'requestVar\'] = $config[\'requestVar\'];\\n            $tpl = $tag[\'tag\'] == $requestTag ? $config[\'tplActive\'] : $config[\'tpl\'];\\n            $output[] = $parser->getChunk($tpl, $tag);\\n        }\\n        $output = implode(\'\', $output);\\n        if (!empty($config[\'tplWrapper\'])) {\\n            $output = $parser->getChunk($config[\'tplWrapper\'], array(\'output\' => $output));\\n        }\\n    }\\n}\\n\\nreturn $output;"}',
        'guid' => 'dd8e54e06a5133486e6990a7d5383bc8',
        'native_key' => 0,
        'signature' => 'c7032a47ac635eec706741a766c70e62',
      ),
    ),
    'Plugins' => 
    array (
      'ea00aeeacacb76ecf0f20da58e583e5d' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modPlugin',
        'object' => '{"id":null,"source":1,"property_preprocess":0,"name":"tvSuperSelect","description":"","editor_type":0,"category":0,"cache_type":0,"plugincode":"\\/** @var modX $modx *\\/\\n\\/** @var tvSuperSelect $tvss *\\/\\n\\/** @var modTemplateVarResource $obj *\\/\\n\\n$path = MODX_CORE_PATH . \'components\\/tvsuperselect\\/model\\/tvsuperselect\\/\';\\nif (!$tvss = $modx->getService(\'tvsuperselect\', \'tvSuperSelect\', $path)) {\\n    return \'\';\\n}\\n\\nswitch ($modx->event->name) {\\n    case \'OnTVInputRenderList\':\\n        $modx->event->output($tvss->config[\'corePath\'] . \'tv\\/input\\/\');\\n        break;\\n    case \'OnTVOutputRenderList\':\\n        \\/\\/ $modx->event->output($tvss->config[\'corePath\'] . \'tv\\/output\\/\');\\n        break;\\n    case \'OnTVInputPropertiesList\':\\n        $modx->event->output($tvss->config[\'corePath\'] . \'tv\\/inputproperties\\/\');\\n        break;\\n    case \'OnTVOutputRenderPropertiesList\':\\n        \\/\\/ $modx->event->output($tvss->config[\'corePath\'] . \'tv\\/properties\\/\');\\n        break;\\n    case \'OnManagerPageBeforeRender\':\\n        $modx->controller->addCss($tvss->config[\'cssUrl\'] . \'mgr\\/main.css\');\\n        break;\\n\\n    case \'OnDocFormRender\':\\n        $modx->regClientCSS($tvss->config[\'cssUrl\'] . \'mgr\\/main.css\');\\n        $modx->regClientStartupScript(\'<script type=\\"text\\/javascript\\">\\n            if (typeof(jQuery) == \\"undefined\\") {\\n                document.write(\\\\\'<script type=\\"text\\/javascript\\" src=\\"\' . $tvss->config[\'jsUrl\'] . \'jquery-2.1.1.min.js\\" ><\\/\\\\\'+\\\\\'script>\\\\\');\\n            }\\n        <\\/script>\', true);\\n        $modx->regClientStartupScript($tvss->config[\'jsUrl\'] . \'mgr\\/tvsuperselect.js\');\\n        $modx->regClientStartupScript(\'<script type=\\"text\\/javascript\\">\\n            tvSuperSelect.config = \' . $modx->toJSON($tvss->config) . \';\\n            tvSuperSelect.config.connector_url = \\"\' . $tvss->config[\'connectorUrl\'] . \'\\";\\n        <\\/script>\', true);\\n        $modx->regClientStartupScript($tvss->config[\'jsUrl\'] . \'mgr\\/misc\\/ms2.combo.js\');\\n        break;\\n\\n    case \'OnDocFormSave\':\\n        if (is_object($resource) && is_array($resource->_fields)) {\\n            $fields = $resource->_fields;\\n            $id = $fields[\'id\'];\\n\\n            \\/\\/ \\u0415\\u0441\\u043b\\u0438 \\u044d\\u0442\\u043e \\u0442\\u043e\\u0432\\u0430\\u0440 miniShop2 \\u0438 \\u0422\\u0412 \\u043f\\u043e\\u043b\\u044f \\u0432 \\u043e\\u0431\\u044a\\u0435\\u043a\\u0442\\u0435 \\u0437\\u0430\\u043f\\u0438\\u0441\\u0430\\u043d\\u044b \\u0432 msProductData\\n            if ($fields[\'class_key\'] === \'msProduct\' && !array_key_exists(\'tvs\', $fields)) {\\n                $fields = $resource->Data->_fields;\\n            }\\n\\n            \\/\\/\\n            $data = array();\\n            foreach ($fields as $k => $v) {\\n                if (preg_match(\'\\/^tvss\\\\-option\\\\-\\/ui\', $k)) {\\n                    $tv = str_replace(\'tvss-option-\', \'\', $k);\\n                    $data[$tv] = array_diff(array_map(\'trim\', $v), array(\'\'));\\n                    unset($tv);\\n                }\\n            }\\n\\n            \\/\\/\\n            if (!empty($data)) {\\n                $table = $modx->getTableName(\'tvssOption\');\\n                foreach ($data as $tv => $values) {\\n                    \\/**\\n                     * \\u041f\\u0438\\u0448\\u0435\\u043c \\u0432 \\u0442\\u0430\\u0431\\u043b\\u0438\\u0446\\u0443 \\u043f\\u0430\\u043a\\u0435\\u0442\\u0430\\n                     *\\/\\n                    \\/\\/ \\u0423\\u0434\\u0430\\u043b\\u044f\\u0435\\u043c \\u0441\\u0442\\u0430\\u0440\\u044b\\u0435 \\u0437\\u0430\\u043f\\u0438\\u0441\\u0438\\n                    $sql = \\"DELETE FROM {$table} WHERE `resource_id` =? AND `tv_id` =?\\";\\n                    $stmt = $modx->prepare($sql);\\n                    if (!$stmt->execute(array($id, $tv))) {\\n                        $modx->log(1, \'[tvSuperSelect] \' . print_r($stmt->errorInfo, true) . \' SQL: \' . $sql);\\n                    }\\n\\n                    \\/\\/ \\u0414\\u043e\\u0431\\u0430\\u0432\\u043b\\u044f\\u0435\\u043c \\u043d\\u043e\\u0432\\u044b\\u0435 \\u0437\\u0430\\u043f\\u0438\\u0441\\u0438\\n                    if (!empty($values)) {\\n                        \\/\\/ \\u041f\\u043e\\u0434\\u0433\\u043e\\u0442\\u0430\\u0432\\u043b\\u0438\\u0432\\u0430\\u0435\\u043c \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b \\u0434\\u043b\\u044f \\u0437\\u0430\\u043f\\u0440\\u043e\\u0441\\u0430\\n                        $tmp = array();\\n                        $params = array(\'id\' => $id, \'tv\' => $tv);\\n                        foreach ($values as $k => $v) {\\n                            $tmp[] = \\"(:id, :tv, :value{$k})\\";\\n                            $params[\'value\' . $k] = $v;\\n                        }\\n\\n                        \\/\\/ \\u0421\\u043e\\u0432\\u0435\\u0440\\u0448\\u0430\\u0435\\u043c \\u0437\\u0430\\u043f\\u0440\\u043e\\u0441 \\u043d\\u0430 \\u0434\\u043e\\u0431\\u0430\\u0432\\u043b\\u0435\\u043d\\u0438\\u0435 \\u0437\\u0430\\u043f\\u0438\\u0441\\u0435\\u0439\\n                        $sql = \\"INSERT INTO {$table} (`resource_id`, `tv_id`, `value`) VALUES \\" . implode(\', \', $tmp);\\n                        $stmt = $modx->prepare($sql);\\n                        if (!$stmt->execute($params)) {\\n                            $modx->log(1, \'[tvSuperSelect] \' . print_r($stmt->errorInfo, true) . \' SQL: \' . $sql);\\n                        }\\n                        unset($tmp);\\n                    }\\n\\n                    \\/**\\n                     * \\u041f\\u0438\\u0448\\u0435\\u043c \\u0432 \\u0442\\u0430\\u0431\\u043b\\u0438\\u0446\\u0443 modTemplateVarResource\\n                     *\\/\\n                    $condition = array(\\n                        \'tmplvarid\' => $tv,\\n                        \'contentid\' => $id,\\n                    );\\n                    if (!$obj = $modx->getObject(\'modTemplateVarResource\', $condition)) {\\n                        $obj = $modx->newObject(\'modTemplateVarResource\');\\n                    }\\n                    $obj->fromArray(array_merge($condition, array(\\n                        \'value\' => $modx->toJSON($values),\\n                    )));\\n                    $obj->save();\\n                    unset($condition, $obj);\\n                }\\n            }\\n        }\\n        break;\\n}","locked":0,"properties":null,"disabled":0,"moduleguid":"","static":0,"static_file":"core\\/components\\/tvsuperselect\\/elements\\/plugins\\/plugin.tvsuperselect.php","content":"\\/** @var modX $modx *\\/\\n\\/** @var tvSuperSelect $tvss *\\/\\n\\/** @var modTemplateVarResource $obj *\\/\\n\\n$path = MODX_CORE_PATH . \'components\\/tvsuperselect\\/model\\/tvsuperselect\\/\';\\nif (!$tvss = $modx->getService(\'tvsuperselect\', \'tvSuperSelect\', $path)) {\\n    return \'\';\\n}\\n\\nswitch ($modx->event->name) {\\n    case \'OnTVInputRenderList\':\\n        $modx->event->output($tvss->config[\'corePath\'] . \'tv\\/input\\/\');\\n        break;\\n    case \'OnTVOutputRenderList\':\\n        \\/\\/ $modx->event->output($tvss->config[\'corePath\'] . \'tv\\/output\\/\');\\n        break;\\n    case \'OnTVInputPropertiesList\':\\n        $modx->event->output($tvss->config[\'corePath\'] . \'tv\\/inputproperties\\/\');\\n        break;\\n    case \'OnTVOutputRenderPropertiesList\':\\n        \\/\\/ $modx->event->output($tvss->config[\'corePath\'] . \'tv\\/properties\\/\');\\n        break;\\n    case \'OnManagerPageBeforeRender\':\\n        $modx->controller->addCss($tvss->config[\'cssUrl\'] . \'mgr\\/main.css\');\\n        break;\\n\\n    case \'OnDocFormRender\':\\n        $modx->regClientCSS($tvss->config[\'cssUrl\'] . \'mgr\\/main.css\');\\n        $modx->regClientStartupScript(\'<script type=\\"text\\/javascript\\">\\n            if (typeof(jQuery) == \\"undefined\\") {\\n                document.write(\\\\\'<script type=\\"text\\/javascript\\" src=\\"\' . $tvss->config[\'jsUrl\'] . \'jquery-2.1.1.min.js\\" ><\\/\\\\\'+\\\\\'script>\\\\\');\\n            }\\n        <\\/script>\', true);\\n        $modx->regClientStartupScript($tvss->config[\'jsUrl\'] . \'mgr\\/tvsuperselect.js\');\\n        $modx->regClientStartupScript(\'<script type=\\"text\\/javascript\\">\\n            tvSuperSelect.config = \' . $modx->toJSON($tvss->config) . \';\\n            tvSuperSelect.config.connector_url = \\"\' . $tvss->config[\'connectorUrl\'] . \'\\";\\n        <\\/script>\', true);\\n        $modx->regClientStartupScript($tvss->config[\'jsUrl\'] . \'mgr\\/misc\\/ms2.combo.js\');\\n        break;\\n\\n    case \'OnDocFormSave\':\\n        if (is_object($resource) && is_array($resource->_fields)) {\\n            $fields = $resource->_fields;\\n            $id = $fields[\'id\'];\\n\\n            \\/\\/ \\u0415\\u0441\\u043b\\u0438 \\u044d\\u0442\\u043e \\u0442\\u043e\\u0432\\u0430\\u0440 miniShop2 \\u0438 \\u0422\\u0412 \\u043f\\u043e\\u043b\\u044f \\u0432 \\u043e\\u0431\\u044a\\u0435\\u043a\\u0442\\u0435 \\u0437\\u0430\\u043f\\u0438\\u0441\\u0430\\u043d\\u044b \\u0432 msProductData\\n            if ($fields[\'class_key\'] === \'msProduct\' && !array_key_exists(\'tvs\', $fields)) {\\n                $fields = $resource->Data->_fields;\\n            }\\n\\n            \\/\\/\\n            $data = array();\\n            foreach ($fields as $k => $v) {\\n                if (preg_match(\'\\/^tvss\\\\-option\\\\-\\/ui\', $k)) {\\n                    $tv = str_replace(\'tvss-option-\', \'\', $k);\\n                    $data[$tv] = array_diff(array_map(\'trim\', $v), array(\'\'));\\n                    unset($tv);\\n                }\\n            }\\n\\n            \\/\\/\\n            if (!empty($data)) {\\n                $table = $modx->getTableName(\'tvssOption\');\\n                foreach ($data as $tv => $values) {\\n                    \\/**\\n                     * \\u041f\\u0438\\u0448\\u0435\\u043c \\u0432 \\u0442\\u0430\\u0431\\u043b\\u0438\\u0446\\u0443 \\u043f\\u0430\\u043a\\u0435\\u0442\\u0430\\n                     *\\/\\n                    \\/\\/ \\u0423\\u0434\\u0430\\u043b\\u044f\\u0435\\u043c \\u0441\\u0442\\u0430\\u0440\\u044b\\u0435 \\u0437\\u0430\\u043f\\u0438\\u0441\\u0438\\n                    $sql = \\"DELETE FROM {$table} WHERE `resource_id` =? AND `tv_id` =?\\";\\n                    $stmt = $modx->prepare($sql);\\n                    if (!$stmt->execute(array($id, $tv))) {\\n                        $modx->log(1, \'[tvSuperSelect] \' . print_r($stmt->errorInfo, true) . \' SQL: \' . $sql);\\n                    }\\n\\n                    \\/\\/ \\u0414\\u043e\\u0431\\u0430\\u0432\\u043b\\u044f\\u0435\\u043c \\u043d\\u043e\\u0432\\u044b\\u0435 \\u0437\\u0430\\u043f\\u0438\\u0441\\u0438\\n                    if (!empty($values)) {\\n                        \\/\\/ \\u041f\\u043e\\u0434\\u0433\\u043e\\u0442\\u0430\\u0432\\u043b\\u0438\\u0432\\u0430\\u0435\\u043c \\u043f\\u0430\\u0440\\u0430\\u043c\\u0435\\u0442\\u0440\\u044b \\u0434\\u043b\\u044f \\u0437\\u0430\\u043f\\u0440\\u043e\\u0441\\u0430\\n                        $tmp = array();\\n                        $params = array(\'id\' => $id, \'tv\' => $tv);\\n                        foreach ($values as $k => $v) {\\n                            $tmp[] = \\"(:id, :tv, :value{$k})\\";\\n                            $params[\'value\' . $k] = $v;\\n                        }\\n\\n                        \\/\\/ \\u0421\\u043e\\u0432\\u0435\\u0440\\u0448\\u0430\\u0435\\u043c \\u0437\\u0430\\u043f\\u0440\\u043e\\u0441 \\u043d\\u0430 \\u0434\\u043e\\u0431\\u0430\\u0432\\u043b\\u0435\\u043d\\u0438\\u0435 \\u0437\\u0430\\u043f\\u0438\\u0441\\u0435\\u0439\\n                        $sql = \\"INSERT INTO {$table} (`resource_id`, `tv_id`, `value`) VALUES \\" . implode(\', \', $tmp);\\n                        $stmt = $modx->prepare($sql);\\n                        if (!$stmt->execute($params)) {\\n                            $modx->log(1, \'[tvSuperSelect] \' . print_r($stmt->errorInfo, true) . \' SQL: \' . $sql);\\n                        }\\n                        unset($tmp);\\n                    }\\n\\n                    \\/**\\n                     * \\u041f\\u0438\\u0448\\u0435\\u043c \\u0432 \\u0442\\u0430\\u0431\\u043b\\u0438\\u0446\\u0443 modTemplateVarResource\\n                     *\\/\\n                    $condition = array(\\n                        \'tmplvarid\' => $tv,\\n                        \'contentid\' => $id,\\n                    );\\n                    if (!$obj = $modx->getObject(\'modTemplateVarResource\', $condition)) {\\n                        $obj = $modx->newObject(\'modTemplateVarResource\');\\n                    }\\n                    $obj->fromArray(array_merge($condition, array(\\n                        \'value\' => $modx->toJSON($values),\\n                    )));\\n                    $obj->save();\\n                    unset($condition, $obj);\\n                }\\n            }\\n        }\\n        break;\\n}"}',
        'guid' => 'b979752f8095ac927ae41334987fb1c5',
        'native_key' => NULL,
        'signature' => '6781ff9e76798fbfefa6eea1c55db097',
        'related_objects' => 
        array (
          'PluginEvents' => 
          array (
            'dcc64f00ef251df8e255c688211e64a6' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnManagerPageBeforeRender","priority":0,"propertyset":0}',
              'guid' => '26476e9353b192dc00e939ba43ca0988',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnManagerPageBeforeRender',
              ),
              'signature' => 'f9a421116ed0dbcd062af282b780da18',
            ),
            'bd74435c991471f0a4c412a804321fd7' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnDocFormRender","priority":0,"propertyset":0}',
              'guid' => '11b4b6a7ef7fad930ab7440df3379469',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnDocFormRender',
              ),
              'signature' => '8de951e447a2d7dd34815d9a23c4d4c3',
            ),
            '7f8f538771bb623af46f43c9b5f05105' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnDocFormSave","priority":0,"propertyset":0}',
              'guid' => 'c835ab0a53812c4fdb5bbbb208a070b2',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnDocFormSave',
              ),
              'signature' => '3479af2a79019057dd9bd6484a9b129b',
            ),
            '720b4d2604ea50f2825bd58e481d66c9' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnBeforeDocFormSave","priority":0,"propertyset":0}',
              'guid' => 'a7e96c377f12f2b101eaeed0ed25e8c3',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnBeforeDocFormSave',
              ),
              'signature' => 'b6bafdf28d8fd97d8d9f01846db919f8',
            ),
            'a0d544f19e3ba441d14f7773d7797b2f' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnTVInputPropertiesList","priority":0,"propertyset":0}',
              'guid' => '37b01fb68cab66c36c0fd9c0cf43c3fc',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnTVInputPropertiesList',
              ),
              'signature' => 'ed331e3d4487a7cab4a540a9a2160175',
            ),
            'e9d12ab04a8dec00f7f04ae341420a81' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnTVInputRenderList","priority":0,"propertyset":0}',
              'guid' => '953bbc44d4e4335e108795fe2cd21edf',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnTVInputRenderList',
              ),
              'signature' => 'ee6ca07b530c5a415db55976cfb8ad31',
            ),
            '5c0aad513fd7956370877e166ef16690' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnTVOutputRenderList","priority":0,"propertyset":0}',
              'guid' => '0044e3510634996c25784aaba4da7047',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnTVOutputRenderList',
              ),
              'signature' => 'e1e245461ab749d56642e6d4e213fd50',
            ),
            '55853edf86b9b35fcfbebfb0e4bfae61' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnTVOutputRenderPropertiesList","priority":0,"propertyset":0}',
              'guid' => 'c18abf2e251a79aa2826a9e9a5cd1937',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnTVOutputRenderPropertiesList',
              ),
              'signature' => 'b83c36b6a726185d368abe807dadb25c',
            ),
          ),
        ),
      ),
    ),
  ),
  'related_object_attributes' => 
  array (
    'Snippets' => 
    array (
      'preserve_keys' => false,
      'update_object' => true,
      'unique_key' => 'name',
    ),
    'Chunks' => 
    array (
      'preserve_keys' => false,
      'update_object' => false,
      'unique_key' => 'name',
    ),
    'Plugins' => 
    array (
      'preserve_keys' => false,
      'update_object' => true,
      'unique_key' => 'name',
    ),
    'PluginEvents' => 
    array (
      'preserve_keys' => true,
      'update_object' => true,
      'unique_key' => 
      array (
        0 => 'pluginid',
        1 => 'event',
      ),
    ),
  ),
  'namespace' => 'tvsuperselect',
  'resolve' => 
  array (
    0 => 
    array (
      'type' => 'file',
      'body' => '{"source":"tvsuperselect-1.3.1-beta\\/modCategory\\/d0af324f6e3fe7e156d8f83c05ab4ca0\\/0\\/","target":"return MODX_ASSETS_PATH . \'components\\/\';","name":"tvsuperselect"}',
    ),
    1 => 
    array (
      'type' => 'file',
      'body' => '{"source":"tvsuperselect-1.3.1-beta\\/modCategory\\/d0af324f6e3fe7e156d8f83c05ab4ca0\\/1\\/","target":"return MODX_CORE_PATH . \'components\\/\';","name":"tvsuperselect"}',
    ),
    2 => 
    array (
      'type' => 'php',
      'body' => '{"source":"tvsuperselect-1.3.1-beta\\/modCategory\\/d0af324f6e3fe7e156d8f83c05ab4ca0.resolve.tables.resolver","type":"php","name":"resolve.tables"}',
    ),
    3 => 
    array (
      'type' => 'php',
      'body' => '{"source":"tvsuperselect-1.3.1-beta\\/modCategory\\/d0af324f6e3fe7e156d8f83c05ab4ca0.resolve.chunks.resolver","type":"php","name":"resolve.chunks"}',
    ),
    4 => 
    array (
      'type' => 'php',
      'body' => '{"source":"tvsuperselect-1.3.1-beta\\/modCategory\\/d0af324f6e3fe7e156d8f83c05ab4ca0.resolve.setup.resolver","type":"php","name":"resolve.setup"}',
    ),
  ),
  'validate' => NULL,
  'vehicle_package' => 'transport',
  'vehicle_class' => 'xPDOObjectVehicle',
  'guid' => 'f553e7b0ec27f0fe59262d68fa38eeec',
  'package' => 'modx',
  'class' => 'modCategory',
  'signature' => 'd0af324f6e3fe7e156d8f83c05ab4ca0',
  'native_key' => NULL,
  'object' => '{"id":null,"parent":0,"category":"tvSuperSelect","rank":0}',
);